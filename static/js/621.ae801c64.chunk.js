"use strict";(self.webpackChunkdevops_ultimate_panel_react=self.webpackChunkdevops_ultimate_panel_react||[]).push([[621],{38010:function(e,t,r){r.d(t,{JH:function(){return f},j3:function(){return m}});var n=r(37762),a=r(1413),c=r(74165),i=r(93433),o=r(15861),u=r(89731),s=r(42434),l=function(){var e=(0,o.Z)((0,c.Z)().mark((function e(){var t,r,n,a,o,l,p;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=(0,s.su)(s.I.ORGANIZATION,""),r=[],n=0,a=100,o=!0;case 6:if(!o){e.next=14;break}return e.next=9,u.ZP.get("".concat("https://dev.azure.com","/").concat(t,"/_apis/teams?api-version=7.1-preview.3&$top=").concat(a,"&$skip=").concat(n));case 9:l=e.sent,0===(p=l.data.value||[]).length?o=!1:(r=[].concat((0,i.Z)(r),(0,i.Z)(p)),p.length<a?o=!1:n+=a),e.next=6;break;case 14:return e.abrupt("return",{data:{value:r}});case 17:return e.prev=17,e.t0=e.catch(0),console.error("Error fetching teams:",e.t0),e.abrupt("return",Promise.reject(e.t0.data));case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,o.Z)((0,c.Z)().mark((function e(t,r){var n,a,o,l,p,d,m;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=(0,s.su)(s.I.ORGANIZATION,""),a=[],o=0,l=100,p=!0;case 6:if(!p){e.next=14;break}return e.next=9,u.ZP.get("".concat("https://dev.azure.com","/").concat(n,"/_apis/projects/").concat(t,"/teams/").concat(r,"/members?api-version=7.1&$top=").concat(l,"&$skip=").concat(o));case 9:d=e.sent,0===(m=d.data.value||[]).length?p=!1:(a=[].concat((0,i.Z)(a),(0,i.Z)(m)),m.length<l?p=!1:o+=l),e.next=6;break;case 14:return e.abrupt("return",{data:{value:a}});case 17:return e.prev=17,e.t0=e.catch(0),console.error("Error fetching team members for team ".concat(r,":"),e.t0),e.abrupt("return",Promise.reject(e.t0.data));case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(t,r){return e.apply(this,arguments)}}(),d=function(){var e=(0,o.Z)((0,c.Z)().mark((function e(){var t,r,n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l();case 3:return t=e.sent,r=t.data.value||[],e.next=7,Promise.all(r.map(function(){var e=(0,o.Z)((0,c.Z)().mark((function e(t){var r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p(t.projectId,t.id);case 3:return r=e.sent,e.abrupt("return",(0,a.Z)((0,a.Z)({},t),{},{members:r.data.value||[]}));case 7:return e.prev=7,e.t0=e.catch(0),console.error("Error fetching members for team ".concat(t.name,":"),e.t0),e.abrupt("return",(0,a.Z)((0,a.Z)({},t),{},{members:[]}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()));case 7:return n=e.sent,e.abrupt("return",{data:{value:n}});case 11:return e.prev=11,e.t0=e.catch(0),console.error("Error fetching teams with members:",e.t0),e.abrupt("return",Promise.reject(e.t0.data));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=(0,o.Z)((0,c.Z)().mark((function e(t){var r,a,o,l,d,m,f,h,v,Z,g,x,j;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=(0,s.su)(s.I.ORGANIZATION,""),a=[],o=0,l=100,d=!0;case 6:if(!d){e.next=14;break}return e.next=9,u.ZP.get("".concat("https://dev.azure.com","/").concat(r,"/_apis/teams?api-version=7.1-preview.3&$top=").concat(l,"&$skip=").concat(o));case 9:m=e.sent,0===(f=m.data.value||[]).length?d=!1:(h=f.filter((function(e){return e.projectName===t})),a=[].concat((0,i.Z)(a),(0,i.Z)(h)),f.length<l?d=!1:o+=l),e.next=6;break;case 14:v=new Map,Z=(0,n.Z)(a),e.prev=16,x=(0,c.Z)().mark((function e(){var t,r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.value,e.prev=1,e.next=4,p(t.projectId,t.id);case 4:r=e.sent,(r.data.value||[]).forEach((function(e){var r=e.identity;if(r&&r.id)if(v.has(r.id)){var n=v.get(r.id);n.teams.includes(t.name)||n.teams.push(t.name)}else v.set(r.id,{id:r.id,displayName:r.displayName||"N/A",uniqueName:r.uniqueName||"N/A",imageUrl:r.imageUrl||"",descriptor:r.descriptor||"",teams:[t.name]})})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error fetching members for team ".concat(t.name,":"),e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})),Z.s();case 19:if((g=Z.n()).done){e.next=23;break}return e.delegateYield(x(),"t0",21);case 21:e.next=19;break;case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(16),Z.e(e.t1);case 28:return e.prev=28,Z.f(),e.finish(28);case 31:return j=Array.from(v.values()),e.abrupt("return",{data:{value:j}});case 35:return e.prev=35,e.t2=e.catch(0),console.error("Error fetching project users for ".concat(t,":"),e.t2),e.abrupt("return",Promise.reject(e.t2.data));case 39:case"end":return e.stop()}}),e,null,[[0,35],[16,25,28,31]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,o.Z)((0,c.Z)().mark((function e(){var t,r,n,i;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d();case 3:return t=e.sent,r=t.data.value||[],n=new Map,r.forEach((function(e){e.members.forEach((function(t){var r=t.identity;if(r&&r.id){n.has(r.id)||n.set(r.id,{id:r.id,displayName:r.displayName||"N/A",uniqueName:r.uniqueName||"N/A",imageUrl:r.imageUrl||"",projects:[]});var a=n.get(r.id),c=a.projects.find((function(t){return t.projectName===e.projectName}));c?c.teams.includes(e.name)||c.teams.push(e.name):a.projects.push({projectId:e.projectId,projectName:e.projectName,teams:[e.name]})}}))})),i=Array.from(n.values()).map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{projectCount:e.projects.length,projectNames:e.projects.map((function(e){return e.projectName})).join(", "),teamCount:e.projects.reduce((function(e,t){return e+t.teams.length}),0)})})),e.abrupt("return",{data:{value:i}});case 11:return e.prev=11,e.t0=e.catch(0),console.error("Error fetching user projects:",e.t0),e.abrupt("return",Promise.reject(e.t0.data));case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},59867:function(e,t,r){r.d(t,{Z:function(){return y}});var n=r(4942),a=r(1413),c=r(72791),i=r(13967),o=r(96174),u=r(16088),s=r(29961),l=r(54277),p=r(70169),d=r(97860),m=r(33788),f=r(77373),h=r(58636),v=r(12992),Z=r(43212),g=r(23197),x=r(93539),j=r(80184);function b(e){var t=e.page,r=e.onPageChange,n=e.className,a=(0,s.l)(),c=(0,l.P)(a,p.UB);return(0,j.jsx)(u.Z,{variant:"outlined",shape:"rounded",color:"primary",className:n,count:c,page:t+1,onChange:function(e,t){r(e,t-1)}})}function k(e){return(0,j.jsx)(d.x,(0,a.Z)({ActionsComponent:b},e))}function w(){return(0,j.jsx)(o.h,{container:function(){return document.getElementById("filter-panel")},children:(0,j.jsx)(m.T,{variant:"outlined",size:"small"})})}function y(e){var t,r=(0,i.Z)(),o=(0,x.Z)(),u=(0,c.useMemo)((function(){return"tr"===r.language?f.X.components.MuiDataGrid.defaultProps.localeText:h._.components.MuiDataGrid.defaultProps.localeText}),[r,o]);return(0,j.jsx)(v._$,(0,a.Z)((0,a.Z)({},e),{},{localeText:(0,a.Z)((0,a.Z)({},u),{},{MuiTablePagination:(0,a.Z)((0,a.Z)({},u.MuiTablePagination),{},{labelDisplayedRows:function(e){var t=e.from,r=e.to,n=e.count;return"".concat(t,"-").concat(r," / ").concat(n)}})}),ignoreDiacritics:!0,getRowClassName:function(e){return e.indexRelativeToCurrentPage%2===0?"even":"odd"},sx:(0,a.Z)((0,n.Z)({},"& .".concat(Z._.row,".even"),r.palette.mode===g.hY.LIGHT?{backgroundColor:r.palette.background.default,"&:hover, &.Mui-hovered":{backgroundColor:r.palette.divider,"@media (hover: none)":{backgroundColor:"transparent"}}}:{}),e.sx),slots:(0,a.Z)({pagination:k,toolbar:w},e.slots),initialState:{pagination:{paginationModel:{pageSize:null!==(t=e.pageSize)&&void 0!==t?t:10}}},pageSizeOptions:[10,25,50,100],autoHeight:!0,disableRowSelectionOnClick:!0,disableColumnMenu:!0,disableColumnFilter:!0,disableColumnSelector:!0,disableDensitySelector:!0}))}},63621:function(e,t,r){r.r(t);var n=r(74165),a=r(15861),c=r(29439),i=r(72791),o=r(13967),u=r(697),s=r(36314),l=r(68096),p=r(94925),d=r(58406),m=r(23786),f=r(94070),h=r(71554),v=r(59867),Z=r(5896),g=r(18553),x=r(38010),j=r(93539),b=r(4349),k=r(80184);t.default=function(){var e=(0,o.Z)(),t=(0,j.Z)(),r=(0,i.useState)([]),w=(0,c.Z)(r,2),y=w[0],N=w[1],C=(0,i.useState)(""),M=(0,c.Z)(C,2),I=M[0],P=M[1],A=(0,i.useState)([]),E=(0,c.Z)(A,2),S=E[0],T=E[1],G=(0,i.useState)(!1),H=(0,c.Z)(G,2),D=H[0],_=H[1],R=(0,i.useState)(null),z=(0,c.Z)(R,2),O=z[0],$=z[1];(0,i.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,g.M2)();case 3:t=e.sent,r=t.data.value||[],N(r),r.length>0&&P(r[0].name),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching projects:",e.t0),$("Projeler y\xfcklenirken bir hata olu\u015ftu");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,i.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I){e.next=2;break}return e.abrupt("return");case 2:return _(!0),$(null),e.prev=4,e.next=7,(0,x.j3)(I);case 7:t=e.sent,T(t.data.value||[]),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("Error fetching users:",e.t0),$("Kullan\u0131c\u0131lar y\xfcklenirken bir hata olu\u015ftu");case 15:return e.prev=15,_(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[4,11,15,18]])})));return function(){return e.apply(this,arguments)}}();e()}),[I]);var q=(0,i.useMemo)((function(){return[{field:"displayName",headerName:t.formatMessage({id:"user"}),description:t.formatMessage({id:"user"}),flex:1,minWidth:200},{field:"uniqueName",headerName:"E-mail / Kullan\u0131c\u0131 Ad\u0131",description:"E-mail / Kullan\u0131c\u0131 Ad\u0131",flex:1,minWidth:250},{field:"teams",headerName:"Tak\u0131mlar",description:"Kullan\u0131c\u0131n\u0131n \xfcye oldu\u011fu tak\u0131mlar",flex:2,minWidth:300,renderCell:function(e){var t=e.value||[];return(0,k.jsx)(u.Z,{sx:{py:1},children:t.join(", ")})}},{field:"teamCount",headerName:"Tak\u0131m Say\u0131s\u0131",description:"Kullan\u0131c\u0131n\u0131n \xfcye oldu\u011fu tak\u0131m say\u0131s\u0131",flex:.5,minWidth:120,align:"center",headerAlign:"center",renderCell:function(e){return(e.row.teams||[]).length}}]}),[e,t]);return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(Z.Z,{content:!1,title:(0,k.jsx)(b.Z,{id:"project-user-list"}),secondary:(0,k.jsxs)(s.Z,{direction:"row",spacing:2,alignItems:"center",children:[(0,k.jsxs)(l.Z,{sx:{minWidth:250},size:"small",children:[(0,k.jsx)(p.Z,{id:"project-select-label",children:"Proje Se\xe7in"}),(0,k.jsx)(d.Z,{labelId:"project-select-label",id:"project-select",value:I,label:"Proje Se\xe7in",onChange:function(e){P(e.target.value)},disabled:0===y.length,children:y.map((function(e){return(0,k.jsx)(m.Z,{value:e.name,children:e.name},e.id)}))})]}),(0,k.jsx)(u.Z,{id:"filter-panel"})]}),children:[O&&(0,k.jsx)(f.Z,{severity:"error",sx:{m:2},children:O}),D?(0,k.jsx)(u.Z,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400,children:(0,k.jsx)(h.Z,{})}):(0,k.jsx)(k.Fragment,{children:0!==S.length||O?(0,k.jsx)(v.Z,{rows:S,columns:q,getRowId:function(e){return e.id},getRowHeight:function(){return"auto"},sx:{"& .MuiDataGrid-columnHeaderTitle":{whiteSpace:"normal",lineHeight:"normal"},"& .MuiDataGrid-columnHeader":{height:"unset !important"},"& .MuiDataGrid-columnHeaders":{maxHeight:"168px !important"},"& .MuiDataGrid-row":{minHeight:"66.5px !important"},"& .MuiDataGrid-cell":{whiteSpace:"normal",lineHeight:"normal"},"& .MuiDataGrid-cell:first-of-type":{paddingLeft:"24px"},"& .MuiDataGrid-columnHeader:first-of-type":{paddingLeft:"24px"}}}):(0,k.jsx)(u.Z,{sx:{p:3,textAlign:"center"},children:(0,k.jsx)(f.Z,{severity:"info",children:I?'"'.concat(I,'" projesinde kullan\u0131c\u0131 bulunamad\u0131.'):"L\xfctfen bir proje se\xe7in."})})})]})})}}}]);
//# sourceMappingURL=621.ae801c64.chunk.js.map