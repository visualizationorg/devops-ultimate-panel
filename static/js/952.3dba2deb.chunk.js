"use strict";(self.webpackChunkdevops_ultimate_panel_react=self.webpackChunkdevops_ultimate_panel_react||[]).push([[952],{59867:function(e,t,n){n.d(t,{Z:function(){return C}});var r=n(4942),a=n(1413),o=n(72791),c=n(13967),i=n(96174),u=n(16088),s=n(29961),l=n(54277),d=n(70169),p=n(97860),f=n(33788),m=n(77373),h=n(58636),v=n(12992),g=n(43212),Z=n(23197),x=n(93539),w=n(80184);function b(e){var t=e.page,n=e.onPageChange,r=e.className,a=(0,s.l)(),o=(0,l.P)(a,d.UB);return(0,w.jsx)(u.Z,{variant:"outlined",shape:"rounded",color:"primary",className:r,count:o,page:t+1,onChange:function(e,t){n(e,t-1)}})}function k(e){return(0,w.jsx)(p.x,(0,a.Z)({ActionsComponent:b},e))}function j(){return(0,w.jsx)(i.h,{container:function(){return document.getElementById("filter-panel")},children:(0,w.jsx)(f.T,{variant:"outlined",size:"small"})})}function C(e){var t,n=(0,c.Z)(),i=(0,x.Z)(),u=(0,o.useMemo)((function(){return"tr"===n.language?m.X.components.MuiDataGrid.defaultProps.localeText:h._.components.MuiDataGrid.defaultProps.localeText}),[n,i]);return(0,w.jsx)(v._$,(0,a.Z)((0,a.Z)({},e),{},{localeText:(0,a.Z)((0,a.Z)({},u),{},{MuiTablePagination:(0,a.Z)((0,a.Z)({},u.MuiTablePagination),{},{labelDisplayedRows:function(e){var t=e.from,n=e.to,r=e.count;return"".concat(t,"-").concat(n," / ").concat(r)}})}),ignoreDiacritics:!0,getRowClassName:function(e){return e.indexRelativeToCurrentPage%2===0?"even":"odd"},sx:(0,a.Z)((0,r.Z)({},"& .".concat(g._.row,".even"),n.palette.mode===Z.hY.LIGHT?{backgroundColor:n.palette.background.default,"&:hover, &.Mui-hovered":{backgroundColor:n.palette.divider,"@media (hover: none)":{backgroundColor:"transparent"}}}:{}),e.sx),slots:(0,a.Z)({pagination:k,toolbar:j},e.slots),initialState:{pagination:{paginationModel:{pageSize:null!==(t=e.pageSize)&&void 0!==t?t:10}}},pageSizeOptions:[10,25,50,100],autoHeight:!0,disableRowSelectionOnClick:!0,disableColumnMenu:!0,disableColumnFilter:!0,disableColumnSelector:!0,disableDensitySelector:!0}))}},6952:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var r=n(37762),a=n(74165),o=n(15861),c=n(29439),i=n(72791),u=n(59867),s=n(5896),l=n(89731),d=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.ZP.get("".concat("https://dev.azure.com/nadidurna1","/").concat(t,"/_apis/git/repositories?api-version=7.1-preview.1"));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0.data));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t,n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.ZP.get("".concat("https://dev.azure.com/nadidurna1","/").concat(t,"/_apis/git/repositories/").concat(n,"/commits?/commits?api-version=7.1-preview.1"));case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0.data));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),f=n(18553),m=n(4349),h=n(72426),v=n.n(h),g=n(80184);function Z(){var e=(0,i.useState)(!0),t=(0,c.Z)(e,2),n=t[0],l=t[1],h=(0,i.useState)(null),Z=(0,c.Z)(h,2),x=Z[0],w=Z[1],b=(0,i.useState)([]),k=(0,c.Z)(b,2),j=k[0],C=k[1],N=(0,i.useState)([]),P=(0,c.Z)(N,2),S=P[0],y=P[1];(0,i.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,f.M2)();case 3:t=e.sent,C(t.data.value),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching projects:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,i.useEffect)((function(){var e=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t,n,o,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=(0,r.Z)(j),e.prev=2,c=(0,a.Z)().mark((function e(){var n,c,i,u,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.value,e.prev=1,e.next=4,d(n.name);case 4:c=e.sent,i=(0,r.Z)(c.data.value),e.prev=6,s=(0,a.Z)().mark((function e(){var r,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.value,e.next=3,p(n.name,r.id);case 3:0===(o=e.sent).data.value.length?w("No commits found"):o.data.value.forEach((function(e){t.push({id:e.commitId,projectName:n.name,repoName:r.name,author:e.author.name,date:e.author.date,message:e.comment})}));case 5:case"end":return e.stop()}}),e)})),i.s();case 9:if((u=i.n()).done){e.next=13;break}return e.delegateYield(s(),"t0",11);case 11:e.next=9;break;case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(6),i.e(e.t1);case 18:return e.prev=18,i.f(),e.finish(18);case 21:e.next=27;break;case 23:e.prev=23,e.t2=e.catch(1),console.error("Error fetching commits for project ".concat(n.name,":"),e.t2),w("Error fetching commits for project ".concat(n.name));case 27:case"end":return e.stop()}}),e,null,[[1,23],[6,15,18,21]])})),n.s();case 5:if((o=n.n()).done){e.next=9;break}return e.delegateYield(c(),"t0",7);case 7:e.next=5;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),n.e(e.t1);case 14:return e.prev=14,n.f(),e.finish(14);case 17:y(t),l(!1);case 19:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(){return e.apply(this,arguments)}}();j.length>0&&e()}),[j]);var _=[{field:"id",headerName:"Commit ID",width:200,headerAlign:"center",align:"center"},{field:"projectName",headerName:"Project Name",width:150},{field:"repoName",headerName:"Repository Name",width:150},{field:"author",headerName:"Author",width:150},{field:"date",headerName:"Date",width:200,renderCell:function(e){return Boolean(e.value)&&v()(e.value).format("LLL")}},{field:"message",headerName:"Message",width:300}];return(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(s.Z,{content:!1,title:(0,g.jsx)(m.Z,{id:"repo-list"}),children:x?(0,g.jsx)("p",{children:x}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h1",{children:"Last Commits Across Organization"}),(0,g.jsx)(u.Z,{rows:Array.isArray(S)?S:[],columns:_,getRowHeight:function(){return"auto"},pageSize:100,loading:n})]})})})}}}]);
//# sourceMappingURL=952.3dba2deb.chunk.js.map